## 业务数据权限控制

### 讨论:

现在大多数管理系统都需要权限控制,除了最基本的访问/操作权限控制,还会有数据范围的控制.大部分的实现都是如下模型:

权限和菜单关联到角色,角色支持配置数据可以范围,例如本部门\本部门及子部门等等.再给用户配置角色.

#### 利弊:

1. 用户配置角色的个数,单个和多个都有看到,如果是单个的情况,优点:角色清晰,菜单和权限根据当前用户实际职责配置,缺点:意味着所有的业务模块,都只能按照单个数据范围控制,如果不同业务需要不同的规则就会不支持.另外并不是所有业务模块都会需要数据范围控制,只知道角色管理员是不能知道哪些业务支持数据控制,只能是产品设计以及编码的时候知道.

2. 多个的情况,优点:可以解决不同业务模块不同数据范围的控制.缺点:角色混乱,不好维护,为了实现业务模块的划分,导致角色多元,与实际的职责不好划分.

3. 控制维度单一,只是通过部门维度去控制数据权限,业务也会受限制.

4. 编码设计,最简单实现的方式,更好的业务代码扩展.

### 项目简介

针对存在的问题,实现了分业务多维度数据权限控制.支持添加多个维度的控制,例如员工\项目等等,引入资源概念,需要数据范围控制的业务模块,配置相应的资源控制和控制维度.

一个资源对于一个维度、一个用户可以配置多个资源、资源之间或。

编码实现,通过注解实现数据控制.同时方便各业务扩展.资源不光可以配置查看资源，也可以细化查看资源、编辑资源等等。只需要通过注解获得相应的资源范围，业务再做拓展即可。



